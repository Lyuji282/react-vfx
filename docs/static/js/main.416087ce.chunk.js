(this["webpackJsonpreact-vfx-docs"]=this["webpackJsonpreact-vfx-docs"]||[]).push([[0],{1:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(20));t.VFXProvider=i.default;var a=r(n(43));t.VFXImg=a.default;var s=r(n(44));t.VFXSpan=s.default("span"),t.VFXDiv=s.default("div"),t.VFXP=s.default("p")},13:function(e,t,n){e.exports=n(46)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";var r=n(21),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0)),u=n(0),o=n(3),l=a(n(25)),c={position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,pointerEvents:"none"};t.VFXProvider=function(e){var t=u.useState(null),n=r(t,2),i=n[0],a=n[1],m=u.useRef(null);return u.useEffect((function(){if(null!=m.current){var e=new l.default(m.current);return a(e),e.play(),function(){e.stop()}}}),[m]),s.createElement(s.Fragment,null,s.createElement("canvas",{ref:m,style:c}),s.createElement(o.VFXContext.Provider,{value:i},e.children))},t.default=t.VFXProvider},25:function(e,t,n){"use strict";var r=n(8),i=n(2),a=n(4),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{o(r.next(e))}catch(t){a(t)}}function u(e){try{o(r.throw(e))}catch(t){a(t)}}function o(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}o((r=r.apply(e,t||[])).next())}))},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(45)),c=o(n(27)),m=n(40),f=o(n(41)),v=function(){function e(t){var n=this;i(this,e),this.canvas=t,this.isPlaying=!1,this.pixelRatio=2,this.elements=[],this.resize=f.default((function(){return s(n,void 0,void 0,r.mark((function e(){var t,n,i,a,s,u,o,l,c,m,f,v,d,p;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window){e.next=61;break}t=window.innerWidth,n=window.innerHeight,this.canvas.width=t,this.canvas.height=n,this.renderer.setSize(t,n),this.renderer.setPixelRatio(this.pixelRatio),i=!0,a=!1,s=void 0,e.prev=10,u=this.elements[Symbol.iterator]();case 12:if(i=(o=u.next()).done){e.next=20;break}if("img"===(l=o.value).type||!l.isInViewport){e.next=17;break}return e.next=17,this.rerender(l);case 17:i=!0,e.next=12;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),a=!0,s=e.t0;case 26:e.prev=26,e.prev=27,i||null==u.return||u.return();case 29:if(e.prev=29,!a){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:c=!0,m=!1,f=void 0,e.prev=37,v=this.elements[Symbol.iterator]();case 39:if(c=(d=v.next()).done){e.next=47;break}if("img"===(p=d.value).type||p.isInViewport){e.next=44;break}return e.next=44,this.rerender(p);case 44:c=!0,e.next=39;break;case 47:e.next=53;break;case 49:e.prev=49,e.t1=e.catch(37),m=!0,f=e.t1;case 53:e.prev=53,e.prev=54,c||null==v.return||v.return();case 56:if(e.prev=56,!m){e.next=59;break}throw f;case 59:return e.finish(56);case 60:return e.finish(53);case 61:case"end":return e.stop()}}),e,this,[[10,22,26,34],[27,,29,33],[37,49,53,61],[54,,56,60]])})))}),50),this.updateIntersection=function(e){return s(n,void 0,void 0,r.mark((function t(){var n,i,a,s,u,o,l,c,m,f,v,d;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,i=!1,a=void 0,t.prev=3,s=e[Symbol.iterator]();case 5:if(n=(u=s.next()).done){t.next=29;break}for(o=u.value,l=!0,c=!1,m=void 0,t.prev=10,f=this.elements[Symbol.iterator]();!(l=(v=f.next()).done);l=!0)(d=v.value).element===o.target&&(d.isInViewport=o.isIntersecting);t.next=18;break;case 14:t.prev=14,t.t0=t.catch(10),c=!0,m=t.t0;case 18:t.prev=18,t.prev=19,l||null==f.return||f.return();case 21:if(t.prev=21,!c){t.next=24;break}throw m;case 24:return t.finish(21);case 25:return t.finish(18);case 26:n=!0,t.next=5;break;case 29:t.next=35;break;case 31:t.prev=31,t.t1=t.catch(3),i=!0,a=t.t1;case 35:t.prev=35,t.prev=36,n||null==s.return||s.return();case 38:if(t.prev=38,!i){t.next=41;break}throw a;case 41:return t.finish(38);case 42:return t.finish(35);case 43:case"end":return t.stop()}}),t,this,[[3,31,35,43],[10,14,18,26],[19,,21,25],[36,,38,42]])})))},this.playLoop=function(){n.elements.forEach((function(e){if(e.isInViewport){var t=e.element.getBoundingClientRect();e.uniforms.time.value+=.03,e.uniforms.resolution.value.x=t.width*n.pixelRatio,e.uniforms.resolution.value.y=t.height*n.pixelRatio,e.uniforms.offset.value.x=t.left*n.pixelRatio,e.uniforms.offset.value.y=(window.innerHeight-t.top-t.height)*n.pixelRatio,e.isGif&&(e.uniforms.src.value.needsUpdate=!0),n.camera.lookAt(e.scene.position),n.renderer.setViewport(t.left,window.innerHeight-(t.top+t.height),t.width,t.height),n.renderer.render(e.scene,n.camera)}})),n.isPlaying&&requestAnimationFrame(n.playLoop)},this.renderer=new l.WebGLRenderer({canvas:t,alpha:!0}),this.renderer.autoClear=!1,"undefined"!==typeof window&&window.addEventListener("resize",this.resize),this.resize(),this.camera=new l.OrthographicCamera(-1,1,1,-1,.1,10),this.camera.position.set(0,0,1),this.io=new IntersectionObserver(this.updateIntersection)}return a(e,[{key:"rerender",value:function(e){return s(this,void 0,void 0,r.mark((function t(){var n,i,a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.uniforms.src,e.element.style.setProperty("opacity","1"),t.next=4,c.default(e.element);case 4:i=t.sent,e.element.style.setProperty("opacity","0"),(a=new l.Texture(i)).needsUpdate=!0,n.value=a;case 9:case"end":return t.stop()}}),t)})))}},{key:"addElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,void 0,void 0,r.mark((function n(){var i,a,s,u,o,f,v,d,p,h,g;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.shader||"uvGradient",a=m.shaders[i]||m.shaders.uvGradient,o=!1,!(e instanceof HTMLImageElement)){n.next=9;break}s=new l.Texture(e),u="img",o=!!e.src.match(/\.gif$/),n.next=14;break;case 9:return n.next=11,c.default(e);case 11:f=n.sent,s=new l.Texture(f),u="span";case 14:s.minFilter=l.LinearFilter,s.magFilter=l.LinearFilter,s.format=l.RGBAFormat,s.needsUpdate=!0,e.style.setProperty("opacity","0"),v={src:{type:"t",value:s},resolution:{type:"v2",value:new l.Vector2},offset:{type:"v2",value:new l.Vector2},time:{type:"f",value:0}},d=new l.Scene,p=new l.PlaneGeometry(2,2),(h=new l.ShaderMaterial({vertexShader:m.DEFAULT_VERTEX_SHADER,fragmentShader:a,transparent:!0,uniforms:v})).extensions={derivatives:!0,drawBuffers:!0,fragDepth:!0,shaderTextureLOD:!0},d.add(new l.Mesh(p,h)),g={element:e,type:u,scene:d,uniforms:v,isInViewport:!0,isGif:o},this.elements.push(g),this.io.observe(e);case 28:case"end":return n.stop()}}),n,this)})))}},{key:"removeElement",value:function(e){var t=this.elements.findIndex((function(t){return t.element===e}));-1!==t&&(this.elements.splice(t,1),this.io.unobserve(e))}},{key:"updateElement",value:function(){}},{key:"play",value:function(){this.isPlaying=!0,this.playLoop()}},{key:"stop",value:function(){this.isPlaying=!1}}]),e}();t.default=v},27:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(28)),a=r(n(29)),s=r(n(39)),u=new a.default({concurrency:1});u.add((function(){return s.default(0)})),t.default=function(e){return u.add((function(){return i.default(e,{backgroundColor:null,scale:2})}))}},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.VFXContext=r.createContext({})},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VERTEX_SHADER="\nprecision mediump float;\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",t.shaders={uvGradient:"\n    precision mediump float;\n    uniform vec2 resolution;\n    uniform vec2 offset;\n    uniform float time;\n    uniform sampler2D src;\n    void main() {\n        vec2 uv = (gl_FragCoord.xy - offset) / resolution;\n\n        gl_FragColor = vec4(uv, sin(time) * .5 + .5, 1);\n\n        vec4 img = texture2D(src, uv);\n        gl_FragColor *= smoothstep(0., 1., img.a);\n    }\n    ",rainbow:"\n    precision mediump float;\n    uniform vec2 resolution;\n    uniform vec2 offset;\n    uniform float time;\n    uniform sampler2D src;\n\n    vec3 hsv2rgb(vec3 c) {\n        vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n        vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n        return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n    }\n\n    vec3 rgb2hsv(vec3 c) {\n        vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n        vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n        vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n        float d = q.x - min(q.w, q.y);\n        float e = 1.0e-10;\n        return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n    }\n\n    vec3 hueShift(vec3 rgb, float t) {\n        vec3 hsv = rgb2hsv(rgb);\n        hsv.x = fract(hsv.x + t);\n        return hsv2rgb(hsv);\n    }\n\n    void main() {\n        vec2 uv = (gl_FragCoord.xy - offset) / resolution;\n\n        float x = (uv.x - uv.y) - time;\n\n        vec4 img = texture2D(src, uv);\n        img.rgb = hueShift(img.rgb, x);\n\n        img.a = 0.2;\n\n        gl_FragColor = img;\n    }\n    "}},43:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=n(0),s=n(3);t.default=function(e){var t=a.useContext(s.VFXContext),n=a.useRef(null);return a.useEffect((function(){var r;if(null!==n.current){var i=e.shader;return null===(r=t)||void 0===r||r.addElement(n.current,{shader:i}),function(){var e;null!==n.current&&(null===(e=t)||void 0===e||e.removeElement(n.current))}}}),[n,t]),i.createElement("img",Object.assign({ref:n},e))}},44:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0)),a=n(0),s=n(3);t.default=function(e){return function(t){var n=a.useContext(s.VFXContext),r=a.useRef(null);return a.useEffect((function(){var e;if(null!==r.current)return null===(e=n)||void 0===e||e.addElement(r.current),function(){var e;null!==r.current&&(null===(e=n)||void 0===e||e.removeElement(r.current))}}),[r,n]),i.createElement(e,Object.assign(Object.assign({},t),{ref:r}))}}},46:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(12),s=n.n(a),u=(n(18),n(19),n(1)),o=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"App-frame"}),i.a.createElement("div",{className:"App-inner"},i.a.createElement(u.VFXProvider,null,i.a.createElement("section",{className:"App-hero"},i.a.createElement("div",{className:"App-hero-logo"},i.a.createElement(u.VFXSpan,null,"REACT-VFX"))),i.a.createElement(u.VFXImg,{src:"logo512.png"}),i.a.createElement(u.VFXSpan,null,"Hello React-VFX!"),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement("h1",null,i.a.createElement(u.VFXDiv,null,"This is DIVVVVVVVVVVVVVVVVVVVv????")),i.a.createElement(u.VFXImg,{src:"mind_blown.gif",shader:"rainbow"}),i.a.createElement("p",null,i.a.createElement(u.VFXSpan,null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec molestie, ligula sit amet ullamcorper scelerisque, urna tellus dictum lacus, quis ultricies nunc nibh in justo. Donec mattis rutrum gravida. Curabitur lobortis lectus tellus, eu gravida magna convallis quis. Nam congue quam ipsum, id efficitur velit ornare ut. In auctor leo quis laoreet sagittis. Donec auctor tincidunt sagittis. Fusce sit amet cursus ante. Duis bibendum leo a sem auctor efficitur. Nunc euismod placerat nisl, vel malesuada risus consectetur a. Curabitur fringilla, justo ac porta volutpat, purus orci hendrerit tellus, in semper leo leo nec mauris. Donec commodo mi eu fringilla posuere. Mauris cursus lorem enim. Proin sit amet tellus scelerisque, lobortis justo quis, pharetra lectus. Phasellus vulputate, felis id dignissim sodales, diam nisi efficitur orci, eu venenatis odio neque eget dolor. Sed eleifend ultricies tortor a congue. Cras tincidunt ipsum risus. Integer eu lacus quam. Aenean non iaculis augue. In viverra eleifend mi, sit amet tempor ante elementum in. Pellentesque rhoncus mi id nunc pretium ultricies. Etiam vulputate convallis sollicitudin. Maecenas accumsan diam eget erat tincidunt tempus. Ut pellentesque scelerisque consequat. Nulla egestas dolor eu diam lobortis condimentum. Curabitur consequat velit nec porta venenatis. Donec rhoncus lacus urna, sit amet tempus ante gravida eget. Suspendisse pretium, risus efficitur finibus sollicitudin, eros turpis hendrerit massa, ut dapibus quam sem ac tellus. Nullam eget dolor ut diam viverra sodales ac quis velit. Vivamus in lorem nisl. Sed iaculis scelerisque pharetra. Integer imperdiet id neque sed dignissim. Donec dui odio, efficitur vitae pharetra a, ullamcorper vel nibh. Praesent urna nisi, sollicitudin a sapien et, feugiat ullamcorper ex. Fusce ultrices tristique dolor vel fermentum. Quisque a molestie libero, sit amet venenatis mauris. Maecenas congue nisl quis ornare posuere. Nunc ut sem euismod, accumsan enim quis, ornare felis. Nam in quam sed libero venenatis vestibulum eu vitae lacus.")),i.a.createElement(u.VFXImg,{src:"logo512.png"}),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement("h2",null,i.a.createElement(u.VFXSpan,null,"Hello React-VFX!barrrrrrrrrrr")),i.a.createElement(u.VFXImg,{src:"logo512.png"}),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement(u.VFXImg,{src:"logo192.png"}),i.a.createElement("h3",null,i.a.createElement("i",null,i.a.createElement(u.VFXSpan,null,"BAzzzzzzzzzzzzzzzzzz"))),i.a.createElement(u.VFXImg,{src:"logo512.png"}),i.a.createElement("h1",null,i.a.createElement(u.VFXSpan,null,"Hello React-VFX!")),i.a.createElement(u.VFXImg,{src:"logo512.png"}),i.a.createElement("h1",null,"yo"))))};s.a.render(i.a.createElement(o,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.416087ce.chunk.js.map